{% extends "layout.njk" %}

{% block content %}
  <div class="max-w-lg mx-auto rounded border border-slate-800 bg-slate-900/70 p-6 space-y-4">
    <h1 class="text-xl font-semibold">Set up MFA</h1>
    <p class="text-sm text-slate-400">
      Scan the QR code / use the secret key in Google Authenticator, then enter the 6-digit code.
    </p>
    <div class="rounded bg-slate-950 border border-slate-800 p-4">
      <p class="text-xs uppercase tracking-widest text-slate-500">Secret</p>
      <p class="font-mono select-all">{{ base32 }}</p>
    </div>
    {% if otpauthUrl %}
      <p class="text-xs text-slate-500 break-all">{{ otpauthUrl }}</p>
    {% endif %}
    <form method="post" class="space-y-4">
      <label class="block text-sm">
        <span>Verification code</span>
        <input type="text" name="code" maxlength="6" required class="mt-1 w-full rounded bg-slate-950 border border-slate-800 px-3 py-2 text-center text-xl tracking-widest" />
      </label>
      <button class="w-full rounded bg-emerald-500 px-3 py-2 font-semibold text-slate-900">
        Enable MFA
      </button>
    </form>
  </div>
{% endblock %}

